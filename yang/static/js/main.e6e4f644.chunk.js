(this.webpackJsonpyang=this.webpackJsonpyang||[]).push([[0],{30:function(e,t,n){e.exports=n(54)},35:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(26),o=n.n(c),i=(n(35),n(6)),u=n(7),s=n(9),l=n(13),d=n(12),p=n(3),h=n(10),f=n(1),b=n.n(f),w=n(5),m=n(8),v=n.n(m),g=function(){function e(){Object(i.a)(this,e),this.queries=[new E(200),new y("topstories",300),new y("askstories",200),new y("showstories",200),new j,new j("javascript"),new j("typescript"),new j("shell"),new j("go"),new j("css"),new j("html"),new j("c%23","c#"),new j("c%2B%2B","c++"),new C("stackoverflow"),new C("serverfault"),new C("superuser"),new C("webapps"),new C("askubuntu"),new C("unix"),new C("stats"),new C("opendata"),new C("chess"),new C("dsp"),new C("parenting"),new C("quant"),new O("r/appideas"),new O("r/bash"),new O("r/bashtricks"),new O("r/commandline"),new O("r/coolgithubprojects"),new O("r/cpp"),new O("r/csharp"),new O("r/css"),new O("r/dataisbeautiful"),new O("r/datascience"),new O("r/datasets"),new O("r/docker"),new O("r/dotnet"),new O("r/lightbulb"),new O("r/linux"),new O("r/mlpapers"),new O("r/node"),new O("r/programming"),new O("r/python"),new O("r/raspberry_pi"),new O("r/raspberry_pi_projects"),new O("r/reactjs"),new O("r/sideproject"),new O("r/somebodymakethis"),new O("r/startup_ideas"),new O("r/startups"),new O("r/typescript"),new O("r/vim"),new O("r/vscode")]}return Object(u.a)(e,[{key:"query",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled(this.queries.map(function(){var e=Object(w.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query();case 2:return n=e.sent,e.next=5,t.process(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function x(e,t,n,r,a,c){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return{source:e,title:t,link:n,author:r,score:a,date:c,miscellaneous:o}}function k(e){var t=e.reduce((function(e,t){return e+t}),0)/e.length,n=Math.sqrt(e.map((function(e){return Math.pow(e-t,2)})).reduce((function(e,t){return e+t}))/e.length);return[t,n]}var y=function(){function e(t,n){Object(i.a)(this,e),this.path=t,this.take=n}return Object(u.a)(e,[{key:"process",value:function(){var e=Object(w.a)(b.a.mark((function e(t){var n,r,a,c,o,i,u=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.data.forEach((function(e,t){t<u.take&&n.push(v.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")))})),e.next=4,Promise.all(n);case 4:return r=e.sent,a=k(r.map((function(e){return e.data.score}))),c=Object(h.a)(a,2),o=c[0],i=c[1],e.abrupt("return",r.map((function(e){var t;return x("hn/".concat(u.path),e.data.title,null!==(t=e.data.url)&&void 0!==t?t:"https://news.ycombinator.com/item?id=".concat(e.data.id),e.data.by,(e.data.score-o)/i,new Date(1e3*e.data.time),"<br/>score: ".concat(e.data.score))})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://hacker-news.firebaseio.com/v0/".concat(this.path,".json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(i.a)(this,e),this.language=t,this.prettyName=n}return Object(u.a)(e,[{key:"process",value:function(){var e=Object(w.a)(b.a.mark((function e(t){var n,r,a,c,o,i=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k(t.data.map((function(e){return e.currentPeriodStars}))),r=Object(h.a)(n,2),a=r[0],c=r[1],(o=new Date).setHours(0,0,0,0),e.abrupt("return",t.data.map((function(e){var t,n;return x("gh/".concat(null!==(t=null!==(n=i.prettyName)&&void 0!==n?n:i.language)&&void 0!==t?t:""),e.name,e.url,e.author,(e.currentPeriodStars-a)/c,o,"<br/>language: ".concat(e.language,"<br/>description: ").concat(e.description,"<br/>score: ").concat(e.stars))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.language?v.a.get("https://ghapi.huchen.dev/repositories?since=daily&language=".concat(this.language)):v.a.get("https://ghapi.huchen.dev/repositories?since=daily");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),O=function(){function e(t){Object(i.a)(this,e),this.subreddit=t}return Object(u.a)(e,[{key:"process",value:function(){var e=Object(w.a)(b.a.mark((function e(t){var n,r,a,c,o=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k(t.data.data.children.map((function(e){return e.data.ups-e.data.downs}))),r=Object(h.a)(n,2),a=r[0],c=r[1],e.abrupt("return",t.data.data.children.map((function(e){return x(o.subreddit,e.data.title,e.data.url,e.data.author,(e.data.ups-e.data.downs-a)/c,new Date(1e3*(e.data.created-28800)),"<br/>score: ".concat(e.data.ups-e.data.downs))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://www.reddit.com/".concat(this.subreddit,".json?limit=25"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),E=function(){function e(t){Object(i.a)(this,e),this.take=t}return Object(u.a)(e,[{key:"process",value:function(){var e=Object(w.a)(b.a.mark((function e(t){var n,r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k(t.data.map((function(e){return e.public_reactions_count}))),r=Object(h.a)(n,2),a=r[0],c=r[1],e.abrupt("return",t.data.map((function(e){return x("devto",e.title,e.url,e.user.name,(e.public_reactions_count-a)/c,new Date(e.created_at),"<br/>tags: ".concat(e.tags,"<br/>description: ").concat(e.description,"<br/>score: ").concat(e.public_reactions_count))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://dev.to/api/articles?per_page=".concat(this.take));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),C=function(){function e(t){Object(i.a)(this,e),this.site=t}return Object(u.a)(e,[{key:"process",value:function(){var e=Object(w.a)(b.a.mark((function e(t){var n,r,a,c,o=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k(t.data.items.map((function(e){return e.view_count}))),r=Object(h.a)(n,2),a=r[0],c=r[1],e.abrupt("return",t.data.items.map((function(e){return x("stack/".concat(o.site),e.title,e.link,e.owner.display_name,(e.view_count-a)/c,new Date(1e3*e.creation_date))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.stackexchange.com/2.2/questions?sort=hot&site=".concat(this.site));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=n(2),I=Object.freeze({backgroundColor:"rgb(31, 31, 31)",textColor:"rgb(223, 223, 223)",highlightColor:"rgba(0, 255, 65, 0.5)"});function _(){var e=Object(p.a)(["\n        border: "," solid rgb(63, 63, 63);\n        border-top: "," solid ",";\n        border-radius: 50%;\n        width: calc(4 * ",");\n        height: calc(4 * ",");\n        animation: "," 2s linear infinite;\n        position: absolute;\n        top: calc(50% - 2 * ",");\n        left: calc(50% - 2 * ",");\n    "]);return _=function(){return e},e}function D(){var e=Object(p.a)(["\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    "]);return D=function(){return e},e}var q=Object(S.c)(D()),B=S.b.div(_(),"16px","16px",I.highlightColor,"16px","16px",q,"16px","16px"),M=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(B,null)}}]),n}(a.a.Component);function T(){var e=Object(p.a)(["\n        grid-area: body;\n        margin: 0px 8px;\n        text-align: center;\n        padding: 30px 0px;\n        padding: 10px 20px;\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    "]);return T=function(){return e},e}function H(){var e=Object(p.a)(["\n        grid-area: source;\n        margin: 0px 8px;\n    "]);return H=function(){return e},e}function K(){var e=Object(p.a)(["\n        grid-area: date;\n        text-align: right;\n        margin: 0px 8px;\n    "]);return K=function(){return e},e}function L(){var e=Object(p.a)(["\n        grid-area: score;\n        text-align: right;\n        margin: 0px 8px;\n    "]);return L=function(){return e},e}function P(){var e=Object(p.a)(["\n        grid-area: info;\n        margin: 0px 8px;\n    "]);return P=function(){return e},e}function z(){var e=Object(p.a)(["\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    "]);return z=function(){return e},e}function U(){var e=Object(p.a)(["\n        cursor: pointer;\n        font-size: 0.9rem;\n        padding: 0px;\n        height: 40px;\n        width: 100px;\n        margin: 10px 0px;\n        color: ",";\n        border: 1px solid ",";\n        background-color: ",";\n        border-radius: 4px;\n    "]);return U=function(){return e},e}function A(){var e=Object(p.a)(["\n        display: flex;\n        flex-flow: row;\n        align-items: center;\n        justify-content: space-evenly;\n    "]);return A=function(){return e},e}function J(){var e=Object(p.a)(["\n        cursor: pointer;\n        color: ",';\n        height: 120px;\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n        grid-template-rows: repeat(5, 1fr);\n        grid-template-areas: \n            "info score"\n            "body body"\n            "body body"\n            "body body"\n            "source date";\n        border: 1px solid ',";\n        margin: 8px auto;\n        font-size: 0.8em;\n        border-radius: 4px;\n        max-width: 500px;\n        background-color: ",";\n        transition: background-color 0.5s;\n\n        :hover {\n          background-color: ",";\n        }\n    "]);return J=function(){return e},e}function N(){var e=Object(p.a)(["\n        list-style-type: none;\n        padding: 0 16px;\n        height: 100%;\n    "]);return N=function(){return e},e}function W(){var e=Object(p.a)(["\n        height: 100%;\n        height: calc(100% - 60px);\n        padding 0 16px;\n        overflow-y: scroll;\n    "]);return W=function(){return e},e}function R(){var e=Object(p.a)(["\n        height: 100vh;\n        background-color: ",";\n    "]);return R=function(){return e},e}function V(){var e=Object(p.a)(["\n        height: 60px;\n        background-color: ",";\n    "]);return V=function(){return e},e}var Y={textColor:"rgb(127, 127, 127)",topbarBackColor:"rgb(29, 29, 29)",viewBackColor:"rgb(210, 210, 210)",highlightColor:"rgba(0, 255, 0, 0.5)",cardBackColor:"rgb(255, 255, 255)",borderColor:"rgb(232, 232, 232)"},$=S.b.div(V(),(function(e){return e.theme.topbarBackColor})),F=S.b.div(R(),(function(e){return e.theme.viewBackColor})),G=S.b.div(W()),Q=S.b.ul(N()),X=S.b.li(J(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColor}),(function(e){return e.isSelected?e.theme.highlightColor:e.theme.cardBackColor}),(function(e){return e.theme.highlightColor})),Z=S.b.div(A()),ee=S.b.button(U(),(function(e){return e.theme.textColor}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.cardBackColor})),te=S.b.div(z()),ne=Object(S.b)(te)(P()),re=Object(S.b)(te)(L()),ae=Object(S.b)(te)(K()),ce=Object(S.b)(te)(H()),oe=S.b.div(T()),ie=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onKeyDown=r.onKeyDown.bind(Object(s.a)(r)),r.onScroll=r.onScroll.bind(Object(s.a)(r)),r.scrollTo=r.scrollTo.bind(Object(s.a)(r)),r.resource=new g,r.increment=15,r.state={results:[],selectedIndex:-1},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.onKeyDown),document.addEventListener("scroll",this.onScroll),this.resource.query().then((function(t){var n=[];t.forEach((function(e){"fulfilled"===e.status&&(n=n.concat(e.value))}));e.setState({results:n.filter((function(e){return(new Date-e.date)/36e5<=24})).sort((function(e,t){return e.score<=t.score?1:-1})),selectedIndex:0})})).catch((function(e){return console.error(e)}))}},{key:"onKeyDown",value:function(e){var t=this;switch(e.key){case"s":this.setState((function(e){return{results:e.results.sort((function(e,t){return e.score<=t.score?1:-1})),selectedIndex:0}}),(function(){return t.scrollTo()}));break;case"d":this.setState((function(e){return{results:e.results.sort((function(e,t){return e.date<=t.date?1:-1})),selectedIndex:0}}),(function(){return t.scrollTo()}));break;case"r":this.setState((function(e){return{results:t.shuffle(e.results),selectedIndex:0}}),(function(){return t.scrollTo()}));break;case"i":this.setState({selectedIndex:0},(function(){return t.scrollTo()}));break;case"ArrowDown":case"j":this.setState((function(e){return{selectedIndex:Math.min(e.selectedIndex+1,e.results.length-1)}}),(function(){return t.scrollTo()}));break;case"ArrowUp":case"k":this.setState((function(e){return{selectedIndex:Math.max(0,e.selectedIndex-1)}}),(function(){return t.scrollTo()}));break;case"Enter":this.state.selectedIndex>-1&&window.open(this.state.results[this.state.selectedIndex].link)}}},{key:"onScroll",value:function(e){var t=this,n=document.body,r=document.documentElement,a=Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight);window.scrollY>=a-window.innerHeight&&this.setState((function(e){return{selectedIndex:e.selectedIndex+t.increment}}))}},{key:"shuffle",value:function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}},{key:"render",value:function(){var e=this;if(0===this.state.results.length)return a.a.createElement(S.a,{theme:Y},a.a.createElement(M,null));var t={isVisible:!(0===this.state.results.length)},n={onClick:function(){return e.onKeyDown({key:"s"})}},r={onClick:function(){return e.onKeyDown({key:"d"})}},c={onClick:function(){return e.onKeyDown({key:"r"})}},o={children:a.a.createElement(Z,null,a.a.createElement(ee,n,"Score"),a.a.createElement(ee,r,"Date"),a.a.createElement(ee,c,"Random"))};return a.a.createElement(S.a,{theme:Y},a.a.createElement("div",null,a.a.createElement(F,t,a.a.createElement($,o),a.a.createElement(G,null,a.a.createElement(Q,null,this.state.results.reduce((function(t,n,r){if(r<e.state.selectedIndex+e.increment){var c={key:r,isSelected:r===e.state.selectedIndex,onClick:function(){return window.open(n.link)}},o={children:"".concat(r," of ").concat(e.state.results.length)},i={children:"".concat(n.source,": ").concat(n.author)},u={children:n.score.toLocaleString("en-US")},s={children:"".concat(((new Date-n.date)/36e5).toLocaleString("en-US")," hours")},l={dangerouslySetInnerHTML:{__html:"".concat(n.title)}};t.push(a.a.createElement(X,c,a.a.createElement(ne,o),a.a.createElement(ce,i),a.a.createElement(re,u),a.a.createElement(ae,s),a.a.createElement(oe,l)))}return t}),[]))))))}},{key:"scrollTo",value:function(){window.scrollTo(0,Math.max(0,126*this.state.selectedIndex-200))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.e6e4f644.chunk.js.map