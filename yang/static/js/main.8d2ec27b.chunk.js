(this.webpackJsonpyang=this.webpackJsonpyang||[]).push([[0],{37:function(t,e,n){t.exports=n(61)},42:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(31),c=n.n(o),i=(n(42),n(5)),u=n(6),s=n(8),l=n(10),d=n(11),p=n(2),h=n(12),f=n(3),b=n.n(f),m=n(7),v=n(32),g=n(14),x=n(9),w=n.n(x),k=function(){function t(){Object(i.a)(this,t),this.queries=[new S(200),new C].concat(Object(g.a)([["topstories",300],["askstories",200],["showstories",200]].map((function(t){return Object(v.a)(j,Object(g.a)(t))}))),Object(g.a)(["stackoverflow","serverfault","superuser","webapps","askubuntu","unix","stats","opendata","chess","dsp","parenting","quant"].map((function(t){return new I(t)}))),Object(g.a)(["r/appideas","r/bash","r/bashtricks","r/commandline","r/coolgithubprojects","r/cpp","r/csharp","r/css","r/dataisbeautiful","r/datascience","r/datasets","r/docker","r/dotnet","r/lightbulb","r/linux","r/mlpapers","r/node","r/programming","r/python","r/raspberry_pi","r/raspberry_pi_projects","r/reactjs","r/Showerthoughts","r/sideproject","r/somebodymakethis","r/startup_ideas","r/startups","r/typescript","r/vim","r/vscode"].map((function(t){return new E(t)}))))}return Object(u.a)(t,[{key:"query",value:function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled(this.queries.map(function(){var t=Object(m.a)(b.a.mark((function t(e){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.query();case 2:return n=t.sent,t.next=5,e.process(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}();function y(t,e,n,r,a,o){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return{source:t,title:e,link:n,author:r,score:a,date:o,miscellaneous:c}}function O(t){var e=t.reduce((function(t,e){return t+e}),0)/t.length,n=Math.sqrt(t.map((function(t){return Math.pow(t-e,2)})).reduce((function(t,e){return t+e}))/t.length);return[e,n]}var j=function(){function t(e,n){Object(i.a)(this,t),this.path=e,this.take=n}return Object(u.a)(t,[{key:"process",value:function(){var t=Object(m.a)(b.a.mark((function t(e){var n,r,a,o,c,i,u=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],e.data.forEach((function(t,e){e<u.take&&n.push(w.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(t,".json")))})),t.next=4,Promise.all(n);case 4:return r=t.sent,a=O(r.map((function(t){return t.data.score}))),o=Object(h.a)(a,2),c=o[0],i=o[1],t.abrupt("return",r.map((function(t){var e;return y("hn/".concat(u.path),t.data.title,null!==(e=t.data.url)&&void 0!==e?e:"https://news.ycombinator.com/item?id=".concat(t.data.id),t.data.by,(t.data.score-c)/i,new Date(1e3*t.data.time),"<br/>score: ".concat(t.data.score))})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"query",value:function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://hacker-news.firebaseio.com/v0/".concat(this.path,".json"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),C=function(){function t(){Object(i.a)(this,t)}return Object(u.a)(t,[{key:"process",value:function(t){return Object.keys(t.data.currentState).map((function(e){var n=t.data.currentState[e],r=O(n.repos.map((function(t){return t.newStars}))),a=Object(h.a)(r,2),o=a[0],c=a[1];return n.repos.map((function(t){var e;return y("gh/".concat(n.language),"".concat(t.repo,"<br/>").concat(null!==(e=t.description)&&void 0!==e?e:""),t.link,t.name,(t.newStars-o)/c,new Date(n.dateTime))}))})).reduce((function(t,e){return t.concat(e)}),[])}},{key:"query",value:function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("http://192.168.0.13:6789/state/display",{name:"e1ab5a64-dc80-47d1-b632-b32e871e632d"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}(),E=function(){function t(e){Object(i.a)(this,t),this.subreddit=e}return Object(u.a)(t,[{key:"process",value:function(){var t=Object(m.a)(b.a.mark((function t(e){var n,r,a,o,c=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=O(e.data.data.children.map((function(t){return t.data.ups-t.data.downs}))),r=Object(h.a)(n,2),a=r[0],o=r[1],t.abrupt("return",e.data.data.children.map((function(t){return y(c.subreddit,t.data.title,"https://www.reddit.com".concat(t.data.permalink),t.data.author,(t.data.ups-t.data.downs-a)/o,new Date(1e3*(t.data.created-28800)),"<br/>score: ".concat(t.data.ups-t.data.downs))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"query",value:function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://www.reddit.com/".concat(this.subreddit,".json?limit=25"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),S=function(){function t(e){Object(i.a)(this,t),this.take=e}return Object(u.a)(t,[{key:"process",value:function(){var t=Object(m.a)(b.a.mark((function t(e){var n,r,a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=O(e.data.map((function(t){return t.public_reactions_count}))),r=Object(h.a)(n,2),a=r[0],o=r[1],t.abrupt("return",e.data.map((function(t){return y("devto",t.title,t.url,t.user.name,(t.public_reactions_count-a)/o,new Date(t.created_at),"<br/>tags: ".concat(t.tags,"<br/>description: ").concat(t.description,"<br/>score: ").concat(t.public_reactions_count))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"query",value:function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://dev.to/api/articles?per_page=".concat(this.take));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),I=function(){function t(e){Object(i.a)(this,t),this.site=e}return Object(u.a)(t,[{key:"process",value:function(){var t=Object(m.a)(b.a.mark((function t(e){var n,r,a,o,c=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=O(e.data.items.map((function(t){return t.view_count}))),r=Object(h.a)(n,2),a=r[0],o=r[1],t.abrupt("return",e.data.items.map((function(t){return y("stack/".concat(c.site),t.title,t.link,t.owner.display_name,(t.view_count-a)/o,new Date(1e3*t.creation_date))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"query",value:function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://api.stackexchange.com/2.2/questions?sort=hot&site=".concat(this.site));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),D=n(1);function _(){var t=Object(p.a)(["\n        border: "," solid rgb(63, 63, 63);\n        border-top: "," solid ",";\n        border-radius: 50%;\n        width: calc(4 * ",");\n        height: calc(4 * ",");\n        animation: "," 2s linear infinite;\n        position: absolute;\n        top: calc(50% - 2 * ",");\n        left: calc(50% - 2 * ",");\n    "]);return _=function(){return t},t}function M(){var t=Object(p.a)(["\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    "]);return M=function(){return t},t}var B=Object(D.c)(M()),T=D.b.div(_(),"16px","16px",(function(t){return t.theme.highlightColor}),"16px","16px",B,"16px","16px"),q=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(T,null)}}]),n}(a.a.Component);function L(){var t=Object(p.a)(["\n    text-decoration: none;\n    visibility: visible;\n    cursor: pointer;\n    float: right;\n    padding: 16px 16px 0 0;\n    right: 0;\n    position: absolute;\n    font-size: 1.5em;\n    color: ",";\n\n    &:hover, &:focus {\n        font-weight: bold;\n    }\n  "]);return L=function(){return t},t}function K(){var t=Object(p.a)(["\n    height: ",";\n    min-width: 300px;\n    max-width: 500px;\n    z-index: 1;\n    margin: 0 auto;\n    border-radius: 16px 16px 0 0;\n    background-color: ",";\n    position: fixed;\n    bottom: 0;\n    transition: height 0.5s ease-in-out;\n    left: 50%;\n    transform: translateX(-50%) !important;\n    ","\n  "]);return K=function(){return t},t}var z=D.b.div(K(),(function(t){return t.height}),(function(t){return t.theme.topbarBackColor}),(function(t){return 0!==t.height?"box-shadow: 0 0 0 2000px rgba(0, 0, 0, .5);":""})),U=D.b.div(L(),(function(t){return t.theme.viewBackColor})),H=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).element=a.a.createRef(),r.onClick=r.onClick.bind(Object(s.a)(r)),window.addEventListener("scroll",(function(){return r.props.onClose()})),r}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(t){this.props.isOpen!==t.isOpen&&(this.props.isOpen?document.addEventListener("click",this.onClick):document.removeEventListener("click",this.onClick))}},{key:"onClick",value:function(t){this.props.isOpen&&this.element&&!this.element.contains(t.target)&&(this.props.onClose(),t.stopImmediatePropagation())}},{key:"render",value:function(){var t=this,e={height:this.props.isOpen?this.props.height:0,ref:function(e){return t.element=e}},n={onClick:function(){return t.props.onClose()},children:"\xd7"};return a.a.createElement(z,e,a.a.createElement(U,n),this.props.menuBody)}}]),n}(a.a.Component),P=n(36),R=n.n(P);function A(){var t=Object(p.a)(["\n        margin: auto 32px;\n        cursor: pointer;\n        text-align: center\n    "]);return A=function(){return t},t}function J(){var t=Object(p.a)(["\n        display: grid;\n        grid-template-rows: repeat(5, 1fr);\n        grid-gap: 8px;\n        height: calc(100% - 30px);\n    "]);return J=function(){return t},t}function W(){var t=Object(p.a)(["\n        margin: auto;\n        text-align: center;\n        height: 30px;\n        color: ",";\n    "]);return W=function(){return t},t}function V(){var t=Object(p.a)(["\n        height: calc(100% - 40px);\n        margin: 32px 0 8px 0;\n    "]);return V=function(){return t},t}function X(){var t=Object(p.a)(["\n        grid-area: body;\n        text-align: center;\n        margin: 10px;\n        height: 3.6rem;\n        line-height: 1.2rem;\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    "]);return X=function(){return t},t}function $(){var t=Object(p.a)(["\n        grid-area: source;\n        margin: 0px 8px;\n    "]);return $=function(){return t},t}function F(){var t=Object(p.a)(["\n        grid-area: date;\n        text-align: right;\n        margin: 0px 8px;\n    "]);return F=function(){return t},t}function G(){var t=Object(p.a)(["\n        grid-area: score;\n        text-align: right;\n        margin: 0px 8px;\n    "]);return G=function(){return t},t}function N(){var t=Object(p.a)(["\n        grid-area: info;\n        margin: 0px 8px;\n    "]);return N=function(){return t},t}function Q(){var t=Object(p.a)(["\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    "]);return Q=function(){return t},t}function Y(){var t=Object(p.a)(["\n        cursor: pointer;\n        font-size: 0.9rem;\n        padding: 0px;\n        height: 40px;\n        width: 100px;\n        margin: 10px 0px;\n        color: ",";\n        border: 1px solid ",";\n        background-color: ",";\n        border-radius: 4px;\n    "]);return Y=function(){return t},t}function Z(){var t=Object(p.a)(["\n        display: flex;\n        flex-flow: row;\n        align-items: center;\n        justify-content: space-evenly;\n    "]);return Z=function(){return t},t}function tt(){var t=Object(p.a)(["\n        cursor: pointer;\n        color: ",';\n        height: 120px;\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n        grid-template-rows: repeat(5, 1fr);\n        grid-template-areas: \n            "info score"\n            "body body"\n            "body body"\n            "body body"\n            "source date";\n        border: 1px solid ',";\n        margin: 8px auto;\n        font-size: 0.8em;\n        border-radius: 4px;\n        max-width: 500px;\n        background-color: ",";\n        transition: background-color 0.5s;\n\n        :hover {\n          background-color: ",";\n        }\n    "]);return tt=function(){return t},t}function et(){var t=Object(p.a)(["\n        list-style-type: none;\n        padding: 0 16px;\n        height: 100%;\n    "]);return et=function(){return t},t}function nt(){var t=Object(p.a)(["\n        height: 100%;\n        height: calc(100% - 60px);\n        padding 0 16px;\n        overflow-y: scroll;\n    "]);return nt=function(){return t},t}function rt(){var t=Object(p.a)(["\n        height: 100vh;\n        background-color: ",";\n    "]);return rt=function(){return t},t}function at(){var t=Object(p.a)(["\n        height: 60px;\n        background-color: ",";\n    "]);return at=function(){return t},t}var ot={textColor:"rgb(127, 127, 127)",topbarBackColor:"rgb(29, 29, 29)",viewBackColor:"rgb(210, 210, 210)",highlightColor:"rgba(0, 255, 0, 0.5)",cardBackColor:"rgb(255, 255, 255)",borderColor:"rgb(232, 232, 232)"},ct=D.b.div(at(),(function(t){return t.theme.topbarBackColor})),it=D.b.div(rt(),(function(t){return t.theme.viewBackColor})),ut=D.b.div(nt()),st=D.b.ul(et()),lt=D.b.li(tt(),(function(t){return t.theme.textColor}),(function(t){return t.theme.textColor}),(function(t){return t.isSelected?t.theme.highlightColor:t.theme.cardBackColor}),(function(t){return t.theme.highlightColor})),dt=D.b.div(Z()),pt=D.b.button(Y(),(function(t){return t.theme.textColor}),(function(t){return t.theme.borderColor}),(function(t){return t.theme.cardBackColor})),ht=D.b.div(Q()),ft=Object(D.b)(ht)(N()),bt=Object(D.b)(ht)(G()),mt=Object(D.b)(ht)(F()),vt=Object(D.b)(ht)($()),gt=D.b.div(X()),xt=D.b.div(V()),wt=D.b.h3(W(),(function(t){return t.theme.viewBackColor})),kt=D.b.div(J()),yt=D.b.div(A()),Ot=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).onKeyDown=r.onKeyDown.bind(Object(s.a)(r)),r.onScroll=r.onScroll.bind(Object(s.a)(r)),r.scrollTo=r.scrollTo.bind(Object(s.a)(r)),r.body=a.a.createRef(),r.resource=new k,r.increment=50,r.state={results:[],selectedIndex:-1,isMenuOpen:!1,similar:[]},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("keydown",this.onKeyDown),this.resource.query().then((function(e){var n=[];e.forEach((function(t){"fulfilled"===t.status?n=n.concat(t.value):"rejected"===t.status&&console.error(t.reason)}));t.setState({results:n.filter((function(t){return(new Date-t.date)/36e5<=24})).sort((function(t,e){return t.score<=e.score?1:-1})),selectedIndex:0},(function(){return t.body.current.addEventListener("scroll",t.onScroll)}))})).catch((function(t){return console.error(t)}))}},{key:"onKeyDown",value:function(t){var e=this;switch(t.key){case"s":this.setState((function(t){return{results:t.results.sort((function(t,e){return t.score<=e.score?1:-1})),selectedIndex:0}}),(function(){return e.scrollTo()}));break;case"d":this.setState((function(t){return{results:t.results.sort((function(t,e){return t.date<=e.date?1:-1})),selectedIndex:0}}),(function(){return e.scrollTo()}));break;case"r":this.setState((function(t){return{results:e.shuffle(t.results),selectedIndex:0}}),(function(){return e.scrollTo()}));break;case"i":this.setState({selectedIndex:0},(function(){return e.scrollTo()}));break;case"ArrowDown":case"j":this.setState((function(t){return{selectedIndex:Math.min(t.selectedIndex+1,t.results.length-1)}}),(function(){return e.scrollTo()}));break;case"ArrowUp":case"k":this.setState((function(t){return{selectedIndex:Math.max(0,t.selectedIndex-1)}}),(function(){return e.scrollTo()}));break;case"Enter":this.state.selectedIndex>-1&&window.open(this.state.results[this.state.selectedIndex].link);break;case"c":if(!this.state.isMenuOpen){var n=this.state.results[this.state.selectedIndex].title,r=this.state.results.reduce((function(t,e,r){return n!==e.title&&t.findIndex((function(t){return t.title===n}))<0&&t.push({score:R.a.compareTwoStrings(n,e.title),index:r,title:e.title,link:e.link}),t}),[]).sort((function(t,e){return t.score<e.score?1:-1}));this.setState({similar:r})}this.setState((function(t){return{isMenuOpen:!t.isMenuOpen}}));break;case"Escape":this.setState({isMenuOpen:!1})}}},{key:"onScroll",value:function(t){var e=this;this.body.current.scrollHeight-(window.innerHeight+this.body.current.scrollTop)<256&&this.setState((function(t){return{selectedIndex:t.selectedIndex+e.increment}}))}},{key:"shuffle",value:function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t}},{key:"render",value:function(){var t=this;if(0===this.state.results.length)return a.a.createElement(D.a,{theme:ot},a.a.createElement(q,null));var e={isVisible:!(0===this.state.results.length)},n={onClick:function(){return t.onKeyDown({key:"s"})}},r={onClick:function(){return t.onKeyDown({key:"d"})}},o={onClick:function(){return t.onKeyDown({key:"r"})}},c={children:a.a.createElement(dt,null,a.a.createElement(pt,n,"Score"),a.a.createElement(pt,r,"Date"),a.a.createElement(pt,o,"Random"))},i={ref:this.body},u={isOpen:this.state.isMenuOpen,onClose:function(){return t.setState({isMenuOpen:!1})},height:"450px",menuBody:a.a.createElement(xt,null,a.a.createElement(wt,null,"Similar"),a.a.createElement(kt,null,this.state.similar.slice(0,5).map((function(t,e){var n={key:e,children:t.title,onClick:function(){return window.open(t.link)}};return a.a.createElement(yt,n)}))))};return a.a.createElement(D.a,{theme:ot},a.a.createElement(it,e,a.a.createElement(ct,c),a.a.createElement(ut,i,a.a.createElement(st,null,this.state.results.reduce((function(e,n,r){if(r<t.state.selectedIndex+t.increment){var o={key:r,isSelected:r===t.state.selectedIndex,onClick:function(){return window.open(n.link)}},c={children:"".concat(r," of ").concat(t.state.results.length)},i={children:"".concat(n.source,": ").concat(n.author)},u={children:n.score.toLocaleString("en-US")},s={children:"".concat(((new Date-n.date)/36e5).toLocaleString("en-US")," hours")},l={dangerouslySetInnerHTML:{__html:"".concat(n.title)}};e.push(a.a.createElement(lt,o,a.a.createElement(ft,c),a.a.createElement(vt,i),a.a.createElement(bt,u),a.a.createElement(mt,s),a.a.createElement(gt,l)))}return e}),[]))),a.a.createElement(H,u)))}},{key:"scrollTo",value:function(){this.body.current.scrollTo(0,Math.max(0,130*this.state.selectedIndex-200))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.8d2ec27b.chunk.js.map